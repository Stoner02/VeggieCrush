<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title> Alchimiste </title>

	<!-- BEGIN STYLESHEETS -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css'>
	<link rel='stylesheet prefetch' href='https://cdn.materialdesignicons.com/1.1.34/'>
	<link rel="stylesheet" href="login.css">
  <!-- END STYLESHEETS -->

</head>


<div id="login-page" class="row">
    <div class="col s12 z-depth-6 card-panel">
      <!--<form class="login-form" > -->
        <div class="row">
        </div>
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">mail_outline</i>
            <input class="validate" id="email" type="text" name="username">
            <label for="email" data-error="wrong" data-success="right">Email</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">lock_outline</i>
            <input class="validate" id="password" type="password" name="password">
            <label for="password">Password</label>
          </div>
        </div>
        <div class="row">
        </div>
        <div class="row">
          <div class="input-field col s12">

            <button type="submit" href="#" class="btn waves-effect waves-light col s12" onclick="connexion()">Login</button>

          </div>

        <div class="row">
         <div class="input-field col s6 m6 l6">
           <p class="margin medium-small"><a href="#">Register Now!</a></p>
         </div>
         <div class="input-field col s6 m6 l6">
             <p class="margin right-align medium-small"><a href="#">Forgot password?</a></p>
         </div>
       </div>
     </div>
     <div class="row">
     </div>
      <!-- </form> -->
    </div>
  </div>

<!-- BEGIN JAVASCRIPT -->
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js'></script>
<script type="text/javascript" src="js/node_modules/socket.io-client/dist/socket.io.js"></script>

<script type="text/javascript">
  var socket = io.connect();

	socket.on('connect', function(data) {
  });
  
  socket.on('inscritOk', function () {
      alert('Je suis inscrit!');
  });

	socket.on('pseudoPris', function () {
        alert('Pseudo déjà pris!');
  });

	socket.on('connecte', function (data) {
    window.location = "game.html";
  });

	socket.on('erreurConnexion', function (data) {
    alert(data);
    console.log('LOOOOOG ' + data);
  });

  
  //-------------------------------------
  // Envoie le pseudo et le mdp du form à connectTry
  //-------------------------------------
	function connexion() {
    var pseudo = document.getElementById("email").value;
    var mdp = document.getElementById("password").value;
    socket.emit('connectTry', pseudo, mdp);
  } 


</script>


<!-- END JAVASCRIPT -->

</body>
</html>
